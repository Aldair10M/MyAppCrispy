<ion-content [fullscreen]="true" class="register-bg">
  <div class="register-container">
    <ion-img src="assets/img/logo-crispy.png" alt="Logo Mr. Crispy" class="logo"></ion-img>

    <ion-text color="dark" class="welcome-text">
      <h2>¡Únete a la Familia Mr. Crispy!</h2>
      <p>Regístrate</p>
    </ion-text>

    <!-- Contenedor único animado -->
    <div [@stepAnimation]="step">
      <!-- PASO 1 -->
      <ng-container *ngIf="step === 1">
        <ion-item class="input-modern">
          <ion-input label="Nombre de Usuario" labelPlacement="floating" clearInput="true" [(ngModel)]="username" name="username" id="register-username" autocomplete="username">
          </ion-input>
        </ion-item>

        <ion-item class="input-modern">
          <ion-input type="date" label="Fecha de Nacimiento" labelPlacement="floating" [(ngModel)]="birthdate" name="birthdate" id="register-birthdate" autocomplete="bday">
          </ion-input>
        </ion-item>

        <ion-item class="input-modern">
          <ion-input label="Dirección" labelPlacement="floating" clearInput="true" [(ngModel)]="address" name="address" id="register-address" autocomplete="street-address">
          </ion-input>
        </ion-item>

        <ion-item class="input-modern">
          <ion-input type="tel" label="Teléfono" labelPlacement="floating" clearInput="true" [(ngModel)]="phone" name="phone" id="register-phone" autocomplete="tel">
          </ion-input>
        </ion-item>

        <ion-button expand="block" class="register-button" (click)="nextStep()">
          Siguiente
        </ion-button>
      </ng-container>

      <!-- PASO 2 -->
      <ng-container *ngIf="step === 2">
        <ion-item class="input-modern">
          <ion-input type="email" label="Correo Electrónico" labelPlacement="floating" clearInput="true"
            [(ngModel)]="email" name="email" id="register-email" autocomplete="email">
          </ion-input>
        </ion-item>

        <ion-item class="input-modern">
          <ion-input type="password" label="Contraseña" labelPlacement="floating" clearInput="true"
            [(ngModel)]="password" name="password" id="register-password" autocomplete="new-password">
          </ion-input>
        </ion-item>

        <ion-item class="input-modern">
          <ion-input type="password" label="Confirmar Contraseña" labelPlacement="floating" clearInput="true"
            [(ngModel)]="confirmPassword" name="confirmPassword" id="register-confirm-password" autocomplete="new-password">
          </ion-input>
        </ion-item>

        <ion-button expand="block" class="register-button" (click)="register()">
          Registrar
        </ion-button>

        <ion-button fill="clear" color="medium" (click)="backStep()">
          ← Volver
        </ion-button>
      </ng-container>
    </div>

    <div class="social-section">
      <p>O registrate con</p>
      <div class="social-icons">
        <ion-img src="assets/img/logo-google.png" alt="Logo de Google" class="social-icon"></ion-img>
        <ion-img src="assets/img/logo-facebook.png" alt="Logo de Facebook" class="social-icon"></ion-img>
      </div>
    </div>

    <div class="register-section">
      <p>¿Ya tienes una cuenta?
        <span class="register-link" (click)="login()">Inicia sesión aquí</span>
      </p>
    </div>
  </div>
</ion-content>
