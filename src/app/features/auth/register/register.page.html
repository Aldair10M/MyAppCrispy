<ion-content [fullscreen]="true" class="register-bg">
  <div class="register-container">
    <ion-img src="assets/img/logo-crispy.png" alt="Logo Mr. Crispy" class="logo"></ion-img>

    <ion-text color="dark" class="welcome-text">
      <h2>¡Únete a la Familia Mr. Crispy!</h2>
      <p>Regístrate</p>
    </ion-text>

    <!-- Contenedor único animado -->
    <div [@stepAnimation]="step">
      <!-- PASO 1 -->
      <ng-container *ngIf="step === 1">
        <ion-item class="input-modern">
          <ion-input label="Nombre de Usuario" labelPlacement="floating" clearInput="true" [(ngModel)]="username">
          </ion-input>
        </ion-item>

        <ion-item class="input-modern">
          <ion-input type="date" label="Fecha de Nacimiento" labelPlacement="floating" [(ngModel)]="birthdate">
          </ion-input>
        </ion-item>

        <ion-item class="input-modern">
          <ion-input label="Dirección" labelPlacement="floating" clearInput="true" [(ngModel)]="address">
          </ion-input>
        </ion-item>

        <ion-item class="input-modern">
          <ion-input type="tel" label="Teléfono" labelPlacement="floating" clearInput="true" [(ngModel)]="phone">
          </ion-input>
        </ion-item>

        <ion-button expand="block" class="register-button" (click)="nextStep()">
          Siguiente
        </ion-button>
      </ng-container>

      <!-- PASO 2 -->
      <ng-container *ngIf="step === 2">
        <ion-item class="input-modern">
          <ion-input type="email" label="Correo Electrónico" labelPlacement="floating" clearInput="true"
            [(ngModel)]="email">
          </ion-input>
        </ion-item>

        <ion-item class="input-modern">
          <ion-input type="password" label="Contraseña" labelPlacement="floating" clearInput="true"
            [(ngModel)]="password">
          </ion-input>
        </ion-item>

        <ion-item class="input-modern">
          <ion-input type="password" label="Confirmar Contraseña" labelPlacement="floating" clearInput="true"
            [(ngModel)]="confirmPassword">
          </ion-input>
        </ion-item>

        <ion-button expand="block" class="register-button" (click)="register()">
          Registrar
        </ion-button>

        <ion-button fill="clear" color="medium" (click)="backStep()">
          ← Volver
        </ion-button>
      </ng-container>

      <!-- PASO 3 -->
      <ng-container *ngIf="step === 3">
        <ion-text color="dark" class="verify-text">
          <h3>Verifica tu cuenta y come delicioso.</h3>
        </ion-text>

        <ion-item class="input-modern">
          <ion-input type="text" label="Código" labelPlacement="floating" clearInput="true" maxlength="6"
            [(ngModel)]="codigo">
          </ion-input>
        </ion-item>

        <p class="hint-text">
          Hemos enviado un código de 6 dígitos a tu teléfono/correo electrónico.
        </p>

        <ion-button expand="block" class="register-button" (click)="confirmarCodigo()">
          Confirmar
        </ion-button>

        <ion-button fill="clear" color="medium" (click)="backStep()">
          ← Volver
        </ion-button>
      </ng-container>
    </div>

    <div class="social-section">
      <p>O registrate con</p>
      <div class="social-icons">
        <ion-img src="assets/img/logo-google.png" alt="Logo de Google" class="social-icon"></ion-img>
        <ion-img src="assets/img/logo-facebook.png" alt="Logo de Facebook" class="social-icon"></ion-img>
      </div>
    </div>

    <div class="register-section">
      <p>¿Ya tienes una cuenta?
        <span class="register-link" (click)="login()">Inicia sesión aquí</span>
      </p>
    </div>
  </div>
</ion-content>
